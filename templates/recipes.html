 {% extends 'base.html' %}

{% block content %}  

<div class="row justify-content-end">
    <div class="col-3">
        <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Filter allergens
            </a>

            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <form action="{{ url_for('get_recipes') }}" method="POST">


                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="diary" value="milk yogurt butter cheese ">
                        <label class="form-check-label" for="inlineCheckbox1">Diary</label>
                    </div>



                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="nuts" value="nut ">
                        <label class="form-check-label" for="inlineCheckbox2">Nuts</label>
                    </div>

                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox3" name="eggs" value="egg">
                        <label class="form-check-label" for="inlineCheckbox3">Eggs</label>
                    </div>


                    <div class="dropdown-divider"></div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary">Apply</button>
                    </div>

                </form>

            </div>
            </form>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-3"></div>   
        
     <div class="col-md-9 justify-content-center"> 
        {% for recipe in recipes %}
<!-- Here, there will be a link to a separate recipe view -->
       <a href="{{ url_for('show_recipe', recipe_id=recipe._id) }}" ><h2> {{ recipe.recipe_name }} </h2></a>
       <span>Author: {{ recipe.author_name }}</span>
       <br>
       <span>Cuisine: {{ recipe.cuisine_name }}</span>
       <br>
       <span>Dish type: {{ recipe.dish_type }}</span>
       <span>Cooking time: {{ recipe.cooking_time }} </span><span>Difficulty:  {{ recipe.difficulty }}</span>
        <ul>
        <!--And this makes jinja display only 3 first ingredients -->
        {% for ingredient in recipe.ingredients_list[:3] %}
           
               <li>{{ ingredient }}</li>

         {% endfor %}
        </ul>

        <span>Upvotes: {{ recipe.upvotes }}</span>
         {% endfor %}
         </div>
    </div>
          
          
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
                 
            <script type="text/javascript" src="">
            $(document).ready(function(){
            
                $('.dropdown-toggle').dropdown();
            });
            </script> 
           
 {% endblock %} 